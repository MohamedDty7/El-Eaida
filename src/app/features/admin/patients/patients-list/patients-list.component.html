<div class="patients-list-page">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-content">
      <h1>إدارة المرضى</h1>
      <p>عرض وإدارة جميع المرضى المسجلين في النظام</p>
    </div>
    <div class="header-actions">
      <button class="btn-primary">
        <i class="fas fa-user-plus"></i>
        إضافة مريض جديد
      </button>
    </div>
  </div>

  <!-- Filters and Search -->
  <div class="filters-section">
    <div class="search-container">
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input 
          type="text" 
          placeholder="البحث عن مريض..." 
          [(ngModel)]="searchQuery"
          (input)="onSearchChange()"
          class="search-input">
      </div>
    </div>
    
    <div class="filter-container">
      <select 
        [(ngModel)]="selectedStatus" 
        (change)="onStatusChange()"
        class="filter-select">
        <option value="all">جميع الحالات</option>
        <option value="نشط">نشط</option>
        <option value="غير نشط">غير نشط</option>
      </select>
    </div>
  </div>

  <!-- Patients Table -->
  <div class="patients-table-container">
    <div class="table-header">
      <h3>قائمة المرضى ({{ filteredPatients.length }})</h3>
    </div>
    
    <div class="table-responsive">
      <table class="patients-table">
        <thead>
          <tr>
            <th>المريض</th>
            <th>معلومات الاتصال</th>
            <th>العمر</th>
            <th>الجنس</th>
            <th>الحالة</th>
            <th>آخر زيارة</th>
            <th>الموعد القادم</th>
            <th>الإجراءات</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let patient of filteredPatients" class="patient-row">
            <td class="patient-info">
              <div class="patient-avatar">
                <i class="fas fa-user"></i>
              </div>
              <div class="patient-details">
                <div class="patient-name">{{ patient.name }}</div>
                <div class="patient-id">#{{ patient.id }}</div>
              </div>
            </td>
            <td class="contact-info">
              <div class="contact-item">
                <i class="fas fa-envelope"></i>
                <span>{{ patient.email }}</span>
              </div>
              <div class="contact-item">
                <i class="fas fa-phone"></i>
                <span>{{ patient.phone }}</span>
              </div>
            </td>
            <td class="age">{{ patient.age }} سنة</td>
            <td class="gender">{{ patient.gender }}</td>
            <td class="status">
              <span class="status-badge" [class]="getStatusClass(patient.status)">
                {{ patient.status }}
              </span>
            </td>
            <td class="last-visit">{{ patient.lastVisit }}</td>
            <td class="next-appointment">
              <span *ngIf="patient.nextAppointment; else noAppointment">
                {{ patient.nextAppointment }}
              </span>
              <ng-template #noAppointment>
                <span class="no-appointment">لا يوجد موعد</span>
              </ng-template>
            </td>
            <td class="actions">
              <div class="action-buttons">
                <button class="btn-icon" title="عرض التفاصيل">
                  <i class="fas fa-eye"></i>
                </button>
                <button class="btn-icon" title="تعديل">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="btn-icon" title="حذف">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="filteredPatients.length === 0">
    <div class="empty-icon">
      <i class="fas fa-users"></i>
    </div>
    <h3>لا توجد نتائج</h3>
    <p>لم يتم العثور على مرضى يطابقون معايير البحث</p>
    <button class="btn-primary">إضافة مريض جديد</button>
  </div>
</div>
