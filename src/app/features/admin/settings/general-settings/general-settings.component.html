<div class="general-settings-page">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-content">
      <h1>الإعدادات العامة</h1>
      <p>إدارة إعدادات العيادة العامة</p>
    </div>
  </div>

  <!-- Settings Form -->
  <div class="settings-container">
    <form (ngSubmit)="onSave()" #settingsForm="ngForm">
      <div class="settings-sections">
        <!-- Clinic Information -->
        <div class="settings-section">
          <div class="section-header">
            <h3>معلومات العيادة</h3>
            <p>المعلومات الأساسية للعيادة</p>
          </div>
          <div class="form-grid">
            <div class="form-group">
              <label for="clinicName">اسم العيادة *</label>
              <input 
                type="text" 
                id="clinicName" 
                name="clinicName" 
                [(ngModel)]="settings.clinicName" 
                required
                class="form-control">
            </div>
            
            <div class="form-group">
              <label for="clinicPhone">رقم الهاتف *</label>
              <input 
                type="tel" 
                id="clinicPhone" 
                name="clinicPhone" 
                [(ngModel)]="settings.clinicPhone" 
                required
                class="form-control">
            </div>
            
            <div class="form-group">
              <label for="clinicEmail">البريد الإلكتروني *</label>
              <input 
                type="email" 
                id="clinicEmail" 
                name="clinicEmail" 
                [(ngModel)]="settings.clinicEmail" 
                required
                class="form-control">
            </div>
            
            <div class="form-group full-width">
              <label for="clinicAddress">العنوان *</label>
              <textarea 
                id="clinicAddress" 
                name="clinicAddress" 
                [(ngModel)]="settings.clinicAddress" 
                required
                rows="3"
                class="form-control"></textarea>
            </div>
          </div>
        </div>

        <!-- Working Hours -->
        <div class="settings-section">
          <div class="section-header">
            <h3>ساعات العمل</h3>
            <p>تحديد ساعات عمل العيادة</p>
          </div>
          <div class="form-grid">
            <div class="form-group">
              <label for="startTime">وقت البداية</label>
              <input 
                type="time" 
                id="startTime" 
                name="startTime" 
                [(ngModel)]="settings.workingHours.start"
                class="form-control">
            </div>
            
            <div class="form-group">
              <label for="endTime">وقت النهاية</label>
              <input 
                type="time" 
                id="endTime" 
                name="endTime" 
                [(ngModel)]="settings.workingHours.end"
                class="form-control">
            </div>
          </div>
        </div>

        <!-- System Settings -->
        <div class="settings-section">
          <div class="section-header">
            <h3>إعدادات النظام</h3>
            <p>تخصيص إعدادات النظام</p>
          </div>
          <div class="form-grid">
            <div class="form-group">
              <label for="timezone">المنطقة الزمنية</label>
              <select 
                id="timezone" 
                name="timezone" 
                [(ngModel)]="settings.timezone"
                class="form-control">
                <option *ngFor="let tz of timezones" [value]="tz.value">
                  {{ tz.label }}
                </option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="language">اللغة</label>
              <select 
                id="language" 
                name="language" 
                [(ngModel)]="settings.language"
                class="form-control">
                <option *ngFor="let lang of languages" [value]="lang.value">
                  {{ lang.label }}
                </option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="currency">العملة</label>
              <select 
                id="currency" 
                name="currency" 
                [(ngModel)]="settings.currency"
                class="form-control">
                <option *ngFor="let curr of currencies" [value]="curr.value">
                  {{ curr.label }}
                </option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="appointmentDuration">مدة الموعد (دقيقة)</label>
              <input 
                type="number" 
                id="appointmentDuration" 
                name="appointmentDuration" 
                [(ngModel)]="settings.appointmentDuration"
                min="15" 
                max="120"
                class="form-control">
            </div>
            
            <div class="form-group">
              <label for="maxAppointmentsPerDay">الحد الأقصى للمواعيد يومياً</label>
              <input 
                type="number" 
                id="maxAppointmentsPerDay" 
                name="maxAppointmentsPerDay" 
                [(ngModel)]="settings.maxAppointmentsPerDay"
                min="1" 
                max="200"
                class="form-control">
            </div>
          </div>
        </div>

        <!-- Notification Settings -->
        <div class="settings-section">
          <div class="section-header">
            <h3>إعدادات الإشعارات</h3>
            <p>تخصيص إعدادات التذكيرات والإشعارات</p>
          </div>
          <div class="form-grid">
            <div class="form-group">
              <label for="reminderTime">وقت التذكير (ساعة قبل الموعد)</label>
              <input 
                type="number" 
                id="reminderTime" 
                name="reminderTime" 
                [(ngModel)]="settings.reminderTime"
                min="1" 
                max="168"
                class="form-control">
            </div>
            
            <div class="form-group full-width">
              <div class="checkbox-group">
                <div class="checkbox-item">
                  <input 
                    type="checkbox" 
                    id="autoConfirmAppointments"
                    name="autoConfirmAppointments"
                    [(ngModel)]="settings.autoConfirmAppointments">
                  <label for="autoConfirmAppointments">تأكيد المواعيد تلقائياً</label>
                </div>
                
                <div class="checkbox-item">
                  <input 
                    type="checkbox" 
                    id="sendSMSReminders"
                    name="sendSMSReminders"
                    [(ngModel)]="settings.sendSMSReminders">
                  <label for="sendSMSReminders">إرسال تذكيرات SMS</label>
                </div>
                
                <div class="checkbox-item">
                  <input 
                    type="checkbox" 
                    id="sendEmailReminders"
                    name="sendEmailReminders"
                    [(ngModel)]="settings.sendEmailReminders">
                  <label for="sendEmailReminders">إرسال تذكيرات البريد الإلكتروني</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button type="button" class="btn-secondary" (click)="onReset()">
          إعادة تعيين
        </button>
        <button 
          type="submit" 
          class="btn-primary" 
          [disabled]="isSaving">
          <i class="fas fa-save" *ngIf="!isSaving"></i>
          <i class="fas fa-spinner fa-spin" *ngIf="isSaving"></i>
          {{ isSaving ? 'جاري الحفظ...' : 'حفظ الإعدادات' }}
        </button>
      </div>
    </form>
  </div>
</div>
