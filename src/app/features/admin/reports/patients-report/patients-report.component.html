<div class="patients-report-container">
  <div class="header">
    <h2>تقرير المرضى</h2>
    <p>إحصائيات مفصلة عن مرضى العيادة</p>
  </div>

  <div class="filters">
    <div class="filter-group">
      <label for="period">الفترة الزمنية</label>
      <select id="period" [(ngModel)]="selectedPeriod" (change)="onPeriodChange()" class="filter-select">
        <option value="week">الأسبوع الحالي</option>
        <option value="month">الشهر الحالي</option>
        <option value="quarter">الربع الحالي</option>
        <option value="year">السنة الحالية</option>
      </select>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card total">
      <div class="stat-icon">
        <i class="fas fa-users"></i>
      </div>
      <div class="stat-content">
        <h3>{{ totalPatients }}</h3>
        <p>إجمالي المرضى</p>
      </div>
    </div>

    <div class="stat-card new">
      <div class="stat-icon">
        <i class="fas fa-user-plus"></i>
      </div>
      <div class="stat-content">
        <h3>{{ newPatients }}</h3>
        <p>مرضى جدد</p>
        <span class="stat-rate">{{ getNewPatientRate() }}%</span>
      </div>
    </div>

    <div class="stat-card returning">
      <div class="stat-icon">
        <i class="fas fa-user-check"></i>
      </div>
      <div class="stat-content">
        <h3>{{ returningPatients }}</h3>
        <p>مرضى متابعين</p>
        <span class="stat-rate">{{ getReturningPatientRate() }}%</span>
      </div>
    </div>
  </div>

  <div class="chart-section">
    <h3>توزيع المرضى حسب الفئة العمرية</h3>
    <div class="chart-container">
      <div class="chart-placeholder">
        <i class="fas fa-chart-pie"></i>
        <p>رسم بياني لتوزيع المرضى</p>
        <small>سيتم إضافة الرسم البياني في التحديث القادم</small>
      </div>
    </div>
  </div>

  <div class="table-section">
    <h3>تفاصيل توزيع المرضى</h3>
    <div class="table-container">
      <table class="report-table">
        <thead>
          <tr>
            <th>الفئة العمرية</th>
            <th>عدد المرضى</th>
            <th>النسبة المئوية</th>
            <th>الرسم البياني</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of patientData">
            <td>{{ data.ageGroup }} سنة</td>
            <td>{{ data.count }}</td>
            <td>{{ data.percentage }}%</td>
            <td>
              <div class="progress-bar">
                <div class="progress-fill" [style.width.%]="data.percentage"></div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>









